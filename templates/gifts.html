{% extends "index.html" %}

{% block nav %}
<form class="form-inline justify-content-center ml-auto">
	<select class="form-control" name="cat" onchange='this.form.submit();'>
			{% for category in categories %}
			{% if req_cat and req_cat.id == category.id %}
			<option value="{{ category.id }}" selected>{{ category.name }}</option>
			{% else %}
			<option value="{{ category.id }}">{{ category.name }}</option>
			{% endif %}
			{% endfor %}
		</select>
</form>
{% endblock %}

{% block body %}
<section id="get">
	{% if req_cat %}
	<h2>Gifts in the category {{ req_cat.name }}</h2>
	{% else %}
	<h2>All the gifts</h2>
	{% endif %}
    <div class="list-group">
    	{% for gift in gifts %}
    	<a class="list-group-item list-group-item-action" href="{{ url_for('get_gift_byid', g_id=gift.id) }}">{{ gift.name }}</a>
    	{% endfor %}
    </div>
</section>

<section id="post">
	<h2>Create a new gift</h2>
	<form method='POST' action="{{ url_for('add_gift') }}">
		<div class="form-group">
			<label for="name">Name</label>
	    	<input id="name" class="form-control" type='text' name='name' placeholder='name'>
	    </div>

	    <div class="form-group">
	    	<label for="picture">Picture URL</label>
	    	<input id="picture" class="form-control" type='text' name='picture' placeholder='picture url'>
	    </div>

	    <div class="form-group">
	    	<label for="description">Description</label>
	    	<textarea id="description" class="form-control" name='description' placeholder='Description'></textarea>
	    </div>

	    <div class="form-group">
	    	<label for="category">Category</label>
	    	<select id="category" class="form-control" name="category">
	    		{% for category in categories %}
	    		<option value="{{ category.id }}">{{ category.name }}</option>
	    		{% endfor %}
	    	</select>
	    </div>

        <button class="btn btn-outline-success mt-2 mt-xl-0" type="submit">Gift</button>
    </form>
</section>
{% endblock %}